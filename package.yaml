name: novelist
version: '0.0.0.1'
synopsis: Initial project template from stack
description: Some description here.
category: Other
author: Konrad Gądek
maintainer: kgadek@gmail.com
copyright: 2017, Konrad Gądek
license: BSD3
github: kgadek/novelist


dependencies:
  - base >= 4.7 && < 5

flags:
  dump-core:
    description: Dump HTML for the core generated by GHC during compilation
    manual: false
    default: false

library:
  source-dirs: src
  dependencies:
    - directory
    - microlens
    - microlens-th
    - mtl
    - transformers
    - deepseq
    - recursion-schemes
    - autoexporter
    - filepath
    - freer
  when:
    - condition: flag(dump-core)
      ghc-options: -fplugin=DumpCore -fplugin-opt DumpCore:core-html
      dependencies: dump-core

executables:
  novelist-exe:
    main: Main.hs
    source-dirs: app
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
    dependencies:
      - novelist

tests:
  novelist-test:
    main: Main.hs
    source-dirs:
      - test
      - qc-gen
    dependencies:
      - novelist
      - mtl
      - containers
      - recursion-schemes
      - hspec
      - hspec-core
      - hspec-expectations
      - hspec-jenkins
      - HUnit
      - QuickCheck
      - microlens
      - microlens-th
      - microlens-ghc
      - filepath
      - unix
      - directory
      - autoexporter
      - freer

benchmarks:
  novelist-criterion:
    main: Bench.hs
    source-dirs:
      - bench
      - qc-gen
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
    dependencies:
      - novelist
      - criterion
      - QuickCheck
      - microlens
      - microlens-th
      - deepseq
      - autoexporter
      - freer
